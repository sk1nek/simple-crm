<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Hello Bulma!</title>
    <link rel="stylesheet" href="/bulma.min.css"/>
    <link rel="stylesheet" href="style.css"/>
    <script src="fa-all.js"></script>
</head>
<body>



<section class="hero is-success">
    <div class="hero-body">
        <div class="container">
            <h1 class="title">
                Dashboard
            </h1>
            <h2 class="subtitle">
                Lorem ipsum
            </h2>
        </div>
    </div>



</section>

<div class="container">
    <nav class="navbar" role="navigation">
        <div class="navbar-start">
            <a class="navbar-item" th:href="@{/dashboard}">Dashboard</a>

            <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" th:href="@{/complaints}">
                    Complaints
                </a>

                <div class="navbar-dropdown">
                    <a class="navbar-item" th:href="@{/complaints/new}">
                        New complaint
                    </a>
                </div>
            </div>

            <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" th:href="@{/orders}">
                    Orders
                </a>

                <div class="navbar-dropdown">
                    <a class="navbar-item" th:href="@{/orders/new}">
                        New order
                    </a>
                </div>
            </div>
        </div>
    </nav>
</div>

<div class="container main">

    <section class="section">

        <h1 class="title">Complaints</h1>

        <table class="table is-hoverable is-fullwidth">
            <thead>
            <th>Urgent</th>
            <th>Id</th>
            <th>Order</th>
            <th>Files</th>
            <th>Deadline</th>
            <th>Description</th>
            <th>State</th>
            <th>Result</th>
            </thead>

            <tbody>

            <th:block th:each="complaint: ${complaints}">
                <tr th:onclick="'window.location.href = \'' + @{/complaints/{id}(id=${complaint.id})} + '\''">
                    <td th:switch="${complaint.urgent}">
                        <a th:case="true" th:text="Yes"></a>
                        <a th:case="false" th:text="No"></a>
                    </td>
                    <th th:text="${complaint.id}"></th>
                    <td><a th:text="${complaint.order.name}" th:href="@{/orders/{id}(id=${complaint.order.id})}"></a> </td>
                    <td th:text="'todo - modal'"></td>
                    <td th:text="${complaint.dateDeadline}"></td>
                    <td th:text="${complaint.description}"></td>
                    <td th:switch="${complaint.state}">
                        <a th:case="-1" th:text="'Accepted'"></a>
                        <a th:case="0" th:text="'In production'"></a>
                        <a th:case="1" th:text="'Realized'"></a>
                    </td>
                    <td th:text="${complaint.result}"></td>
                </tr>

            </th:block>

            </tbody>
        </table>

    </section>


</div>





<footer class="footer bottom">
    <div class="container">
        <div class="content has-text-centered">
            <p><strong>Â©<a href="http://mjaroszewicz.me/">M. Jaroszewicz </a>2018</strong></p>
        </div>
    </div>
</footer>

</body>

<script>

</script>
</html>
